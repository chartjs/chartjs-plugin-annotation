<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>2.x Migration guide | chartjs-plugin-annotation</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/chartjs-plugin-annotation/master/favicon.png">
    <meta name="description" content="Annotations for Chart.js">
    <link rel="preload" href="/chartjs-plugin-annotation/master/assets/css/0.styles.c4019b94.css" as="style"><link rel="preload" href="/chartjs-plugin-annotation/master/assets/js/app.61bc9963.js" as="script"><link rel="preload" href="/chartjs-plugin-annotation/master/assets/js/2.c0c318c0.js" as="script"><link rel="preload" href="/chartjs-plugin-annotation/master/assets/js/4.0784cd33.js" as="script"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/10.a0eb8e21.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/11.7182d0ef.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/12.68872b5e.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/13.9a95040e.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/14.777e5d42.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/15.5b511873.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/16.09850f9c.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/17.b1774956.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/18.f4ce286e.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/19.3ebf5e4a.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/20.881b7b86.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/21.52b2c9b0.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/22.7983517c.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/23.602ad200.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/24.747708e6.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/25.7e113749.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/26.ffff28ce.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/27.16dc1615.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/28.d065ad1b.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/29.9c6d001a.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/3.4a49ee72.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/30.13a0967a.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/31.b4d58898.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/32.b3253b6e.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/33.26890aa8.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/34.91cd3c09.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/35.f36997bc.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/36.21b28b42.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/37.5ebea47c.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/38.8fac0b56.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/39.510db05d.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/40.ef1c9b6d.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/41.c9579823.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/42.70536925.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/43.991186f8.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/44.0f9bc845.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/45.55167470.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/46.5fbdbff2.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/47.a9d4bc83.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/48.602b5a69.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/49.d8a2e06d.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/5.9ac9e133.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/50.c9f8ed0a.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/51.ed970e69.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/52.495cd398.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/53.dc1a6737.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/54.5260e2c7.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/55.2efe33f2.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/56.49cb295a.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/57.e0fb3c1a.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/58.9e3f5759.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/59.b2c73ed3.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/6.060079aa.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/60.2ae2558f.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/61.28893504.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/62.a9f49863.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/63.19b3a8c2.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/64.daa2cc9c.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/65.b90f316b.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/66.d0f1f7ec.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/67.e20209c4.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/68.2236120a.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/69.2a7b2f59.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/7.d7304ea7.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/70.a7b6c419.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/71.91447c08.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/72.25a5244f.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/73.f01acd6d.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/74.1049c425.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/75.af5e8879.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/76.dbf52208.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/77.3c08f718.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/78.db43d77a.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/79.b8394c9c.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/8.bf4de217.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/80.961b71ed.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/81.61cc2bb3.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/82.2580351a.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/83.0dcdc47f.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/84.c97b9a9f.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/85.1ac9c2ef.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/86.6491a353.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/87.e1c4d31c.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/88.2d5fe3ed.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/89.079a1e9f.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/9.9a76343d.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/90.c1b68a76.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/91.84929c94.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/92.801a330d.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/93.47aa229c.js"><link rel="prefetch" href="/chartjs-plugin-annotation/master/assets/js/94.ba3c4f26.js">
    <link rel="stylesheet" href="/chartjs-plugin-annotation/master/assets/css/0.styles.c4019b94.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/chartjs-plugin-annotation/master/" class="home-link router-link-active"><img src="/chartjs-plugin-annotation/master/favicon.png" alt="chartjs-plugin-annotation" class="logo"> <span class="site-name can-hide">chartjs-plugin-annotation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/chartjs-plugin-annotation/master/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/chartjs-plugin-annotation/master/api/" class="nav-link">
  API
</a></div><div class="nav-item"><a href="/chartjs-plugin-annotation/master/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/chartjs-plugin-annotation/master/samples/" class="nav-link">
  Samples
</a></div> <a href="https://github.com/chartjs/chartjs-plugin-annotation" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/chartjs-plugin-annotation/master/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/chartjs-plugin-annotation/master/api/" class="nav-link">
  API
</a></div><div class="nav-item"><a href="/chartjs-plugin-annotation/master/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/chartjs-plugin-annotation/master/samples/" class="nav-link">
  Samples
</a></div> <a href="https://github.com/chartjs/chartjs-plugin-annotation" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/chartjs-plugin-annotation/master/guide/" aria-current="page" class="sidebar-link">Getting Started</a></li><li><a href="/chartjs-plugin-annotation/master/guide/integration.html" class="sidebar-link">Integration</a></li><li><a href="/chartjs-plugin-annotation/master/guide/usage.html" class="sidebar-link">Usage</a></li><li><a href="/chartjs-plugin-annotation/master/guide/options.html" class="sidebar-link">Options</a></li><li><a href="/chartjs-plugin-annotation/master/guide/configuration.html" class="sidebar-link">Configuration</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Annotations</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/chartjs-plugin-annotation/master/guide/types/box.html" class="sidebar-link">Box Annotations</a></li><li><a href="/chartjs-plugin-annotation/master/guide/types/ellipse.html" class="sidebar-link">Ellipse Annotations</a></li><li><a href="/chartjs-plugin-annotation/master/guide/types/label.html" class="sidebar-link">Label Annotations</a></li><li><a href="/chartjs-plugin-annotation/master/guide/types/line.html" class="sidebar-link">Line Annotations</a></li><li><a href="/chartjs-plugin-annotation/master/guide/types/point.html" class="sidebar-link">Point Annotations</a></li><li><a href="/chartjs-plugin-annotation/master/guide/types/polygon.html" class="sidebar-link">Polygon Annotations</a></li></ul></section></li><li><a href="/chartjs-plugin-annotation/master/guide/migrationV1.html" class="sidebar-link">1.x Migration Guide</a></li><li><a href="/chartjs-plugin-annotation/master/guide/migrationV2.html" aria-current="page" class="active sidebar-link">2.x Migration guide</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_2-x-migration-guide"><a href="#_2-x-migration-guide" class="header-anchor">#</a> 2.x Migration guide</h1> <p><code>chartjs-plugin-annotation</code> plugin version 2 introduces a number of breaking changes. In order to improve performance, offer new features, and improve maintainability, it was necessary to break backwards compatibility, but we aimed to do so only when worth the benefit.</p> <h2 id="chart-js-version"><a href="#chart-js-version" class="header-anchor">#</a> Chart.js version</h2> <p>The annotation plugin requires at least version 3.7.0 to work because of some bug fixes that happened within chart.js itself.</p> <h2 id="options"><a href="#options" class="header-anchor">#</a> Options</h2> <p>A number of changes were made to the configuration options passed to the plugin configuration. Those changes are documented below.</p> <ul><li><code>xScaleID</code> option default has been changed, now set to <code>undefined</code>. If the option is missing, the plugin will try to use the first scale of the chart, configured as <code>'x'</code> axis. If more than one scale has been defined in the chart as <code>'x'</code> axis, the option is mandatory to select the right scale.</li> <li><code>yScaleID</code> option default has been changed, now set to <code>undefined</code>. If the option is missing, the plugin will try to use the first scale of the chart, configured as <code>'y'</code> axis. If more than one scale has been defined in the chart as <code>'y'</code> axis, the option is mandatory to select the right scale.</li> <li>When <a href="https://www.chartjs.org/docs/latest/axes/cartesian/#common-options-to-all-cartesian-axes" target="_blank" rel="noopener noreferrer">stacked scales<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> are used, instead of the whole chart area, the designated scale area is used as fallback for <code>xMin</code>, <code>xMax</code>, <code>yMin</code>, <code>yMax</code>, <code>xValue</code> or <code>yValue</code> options.</li> <li><code>position</code> for the label of the line annotation changes the behavior when <code>start</code> or <code>end</code> is set, and  when the line annotation location is defined by <code>xMin</code>, <code>xMax</code>, <code>yMin</code>, and <code>yMax</code> options.
<ul><li>in the previous version 1.x, if the <code>position</code> was set to <code>start</code> or <code>end</code>, it was calculated using chart area dimension (when <code>start</code> using <code>top</code> or <code>left</code>, when <code>end</code> using <code>bottom</code> or <code>right</code>).</li> <li>in version 2.x, if the <code>position</code> is set to <code>start</code>, it is the point where the line starts being drawn, and when set to <code>end</code>, it is the point where the line ends drawing. The <code>xMin</code>, <code>xMax</code>, <code>yMin</code>, and <code>yMax</code> options are not related to the chart area anymore but are related to the values sequence (and their order) on the associated scale.</li></ul></li> <li><code>cornerRadius</code> option was replaced by <code>borderRadius</code> in the box annotation configuration and in the label configuration of line annotation to align with Chart.js options.</li> <li><code>xPadding</code> and <code>yPadding</code> options were merged into a single <code>padding</code> object in the label configuration of line annotation to align with Chart.js options.</li> <li><code>enabled</code> option was replaced by <code>display</code> in the callout configuration of label annotation, in the label configuration of line and box annotations and in the arrow heads configuration of line annotation to have the same option on all elements.</li> <li><code>dblClickSpeed</code> option was removed from the plugin options because <code>dblclick</code> event hook is not available anymore.</li> <li><code>drawTime</code> option at top level plugin configuration is moved to new <code>common</code> object in the plugin annotation options, which contains options to apply to all annotations:</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">annotation</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">common</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">drawTime</span><span class="token operator">:</span> <span class="token string">'afterDraw'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">annotations</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token operator">...</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="elements"><a href="#elements" class="header-anchor">#</a> Elements</h2> <p>In <code>chartjs-plugin-annotation</code> plugin version 2 the label of box and line annotations is a sub-element. This has changed how to access to the label options. Now the label options are at <code>element.label.options</code>. The following example shows how to show and hide the label when the mouse is hovering the box:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'box'</span><span class="token punctuation">,</span> <span class="token comment">// or 'line'</span>
<span class="token function-variable function">enter</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>element<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  element<span class="token punctuation">.</span>label<span class="token punctuation">.</span>options<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function-variable function">leave</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>element<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  element<span class="token punctuation">.</span>label<span class="token punctuation">.</span>options<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p><code>chartjs-plugin-annotation</code> plugin version 2 removes the clipping of the label to the box annotation size.</p> <p><code>chartjs-plugin-annotation</code> plugin version 2 hides the following methods in the <code>line</code> annotation element because they should be used only internally:</p> <ul><li><code>intersects</code></li> <li><code>isOnLabel</code></li></ul> <p><code>chartjs-plugin-annotation</code> plugin version 2 normalizes the properties of the annotation elements in order to be based on common box model.</p> <h4 id="box-annotation"><a href="#box-annotation" class="header-anchor">#</a> Box annotation</h4> <p>The following diagram is showing the element properties about a <code>'box'</code> annotation:</p> <p><img src="/chartjs-plugin-annotation/master/assets/img/elementBoxProps.645c7c00.png" alt="box"></p> <p>The label of a box annotation is described as a <a href="#label-annotation">label annotation</a> and accessible by <code>element.label</code>.</p> <h4 id="ellipse-annotation"><a href="#ellipse-annotation" class="header-anchor">#</a> Ellipse annotation</h4> <p>The following diagram is showing the element properties about a <code>'ellipse'</code> annotation:</p> <p><img src="/chartjs-plugin-annotation/master/assets/img/elementEllipseProps.ef1b550b.png" alt="ellipse"></p> <h4 id="label-annotation"><a href="#label-annotation" class="header-anchor">#</a> Label annotation</h4> <p>The following diagram is showing the element properties about a <code>'label'</code> annotation:</p> <p><img src="/chartjs-plugin-annotation/master/assets/img/elementLabelProps.97ea168e.png" alt="label"></p> <h4 id="line-annotation"><a href="#line-annotation" class="header-anchor">#</a> Line annotation</h4> <p>The following diagram is showing the element properties about a <code>'line'</code> annotation:</p> <p><img src="/chartjs-plugin-annotation/master/assets/img/elementLineProps.67f9d0c4.png" alt="line"></p> <p>The label of a line annotation is described as a <a href="#label-annotation">label annotation</a> and accessible by <code>element.label</code>.</p> <h4 id="point-annotation"><a href="#point-annotation" class="header-anchor">#</a> Point annotation</h4> <p>The following diagram is showing the element properties about a <code>'point'</code> annotation:</p> <p><img src="/chartjs-plugin-annotation/master/assets/img/elementPointProps.de8e50cf.png" alt="point"></p> <h4 id="polygon-annotation"><a href="#polygon-annotation" class="header-anchor">#</a> Polygon annotation</h4> <p>The following diagram is showing the element properties about a <code>'polygon'</code> annotation:</p> <p><img src="/chartjs-plugin-annotation/master/assets/img/elementPolygonProps.67d2feff.png" alt="polygon"></p> <h2 id="events"><a href="#events" class="header-anchor">#</a> Events</h2> <p><code>chartjs-plugin-annotation</code> plugin version 2 introduces the <a href="/chartjs-plugin-annotation/master/guide/options.html#interaction"><code>interaction</code></a> options, to configure which events trigger annotation interactions. By default, the plugin uses the <a href="https://www.chartjs.org/docs/latest/configuration/interactions.html#interactions" target="_blank" rel="noopener noreferrer">chart interaction configuration<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <ul><li>When <a href="https://www.chartjs.org/docs/latest/charts/scatter.html" target="_blank" rel="noopener noreferrer">scatter charts<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> are used, the interaction default <code>mode</code> in Chart.js is <code>point</code>, while, in the previous plugin version, the default was <code>nearest</code>.</li></ul> <p>The <code>dblclick</code> event hook was removed from annotations options because, being executed asynchronously, it can not enable the chart re-rendering, automatically after processing the event completely. This is important when the user requires re-draws. It gets slow and messy if every event hook does the draw (or update!).</p> <h2 id="types"><a href="#types" class="header-anchor">#</a> Types</h2> <p><code>chartjs-plugin-annotation</code> plugin version 2 removes the compatibility with TypeScript versions less than 4.1 which is the minimum supported one.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/chartjs/chartjs-plugin-annotation/edit/master/docs/guide/migrationV2.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/12/2023, 11:19:38 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ‚Üê
      <a href="/chartjs-plugin-annotation/master/guide/migrationV1.html" class="prev">
        1.x Migration Guide
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/chartjs-plugin-annotation/master/assets/js/app.61bc9963.js" defer></script><script src="/chartjs-plugin-annotation/master/assets/js/2.c0c318c0.js" defer></script><script src="/chartjs-plugin-annotation/master/assets/js/4.0784cd33.js" defer></script>
  </body>
</html>
