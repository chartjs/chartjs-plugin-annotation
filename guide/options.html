<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Options | chartjs-plugin-annotation</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/chartjs-plugin-annotation/favicon.png">
    <meta name="description" content="Annotations for Chart.js">
    <link rel="preload" href="/chartjs-plugin-annotation/assets/css/0.styles.9b98f14b.css" as="style"><link rel="preload" href="/chartjs-plugin-annotation/assets/js/app.60fb6859.js" as="script"><link rel="preload" href="/chartjs-plugin-annotation/assets/js/2.83801234.js" as="script"><link rel="preload" href="/chartjs-plugin-annotation/assets/js/11.b3eea665.js" as="script"><link rel="prefetch" href="/chartjs-plugin-annotation/assets/js/10.913f4bf4.js"><link rel="prefetch" href="/chartjs-plugin-annotation/assets/js/12.64ac54c7.js"><link rel="prefetch" href="/chartjs-plugin-annotation/assets/js/13.384a2ccf.js"><link rel="prefetch" href="/chartjs-plugin-annotation/assets/js/14.4d9918d5.js"><link rel="prefetch" href="/chartjs-plugin-annotation/assets/js/15.c609351d.js"><link rel="prefetch" href="/chartjs-plugin-annotation/assets/js/16.d0c1274e.js"><link rel="prefetch" href="/chartjs-plugin-annotation/assets/js/17.d81d7909.js"><link rel="prefetch" href="/chartjs-plugin-annotation/assets/js/18.41f3f65e.js"><link rel="prefetch" href="/chartjs-plugin-annotation/assets/js/19.5fef630f.js"><link rel="prefetch" href="/chartjs-plugin-annotation/assets/js/3.0b752b28.js"><link rel="prefetch" href="/chartjs-plugin-annotation/assets/js/4.57a45419.js"><link rel="prefetch" href="/chartjs-plugin-annotation/assets/js/5.b0b1780e.js"><link rel="prefetch" href="/chartjs-plugin-annotation/assets/js/6.aee27442.js"><link rel="prefetch" href="/chartjs-plugin-annotation/assets/js/7.67d10d22.js"><link rel="prefetch" href="/chartjs-plugin-annotation/assets/js/8.a85de9ec.js"><link rel="prefetch" href="/chartjs-plugin-annotation/assets/js/9.06e9aff3.js">
    <link rel="stylesheet" href="/chartjs-plugin-annotation/assets/css/0.styles.9b98f14b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/chartjs-plugin-annotation/" class="home-link router-link-active"><img src="/chartjs-plugin-annotation/favicon.png" alt="chartjs-plugin-annotation" class="logo"> <span class="site-name can-hide">chartjs-plugin-annotation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/chartjs-plugin-annotation/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/chartjs-plugin-annotation/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/chartjs-plugin-annotation/samples/" class="nav-link">
  Samples
</a></div> <a href="https://github.com/chartjs/chartjs-plugin-annotation" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/chartjs-plugin-annotation/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/chartjs-plugin-annotation/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/chartjs-plugin-annotation/samples/" class="nav-link">
  Samples
</a></div> <a href="https://github.com/chartjs/chartjs-plugin-annotation" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/chartjs-plugin-annotation/guide/" aria-current="page" class="sidebar-link">Getting Started</a></li><li><a href="/chartjs-plugin-annotation/guide/integration.html" class="sidebar-link">Integration</a></li><li><a href="/chartjs-plugin-annotation/guide/usage.html" class="sidebar-link">Usage</a></li><li><a href="/chartjs-plugin-annotation/guide/options.html" aria-current="page" class="active sidebar-link">Options</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/chartjs-plugin-annotation/guide/options.html#color" class="sidebar-link">Color</a></li><li class="sidebar-sub-header"><a href="/chartjs-plugin-annotation/guide/options.html#font" class="sidebar-link">Font</a></li><li class="sidebar-sub-header"><a href="/chartjs-plugin-annotation/guide/options.html#scriptable-options" class="sidebar-link">Scriptable Options</a></li><li class="sidebar-sub-header"><a href="/chartjs-plugin-annotation/guide/options.html#draw-time" class="sidebar-link">Draw Time</a></li><li class="sidebar-sub-header"><a href="/chartjs-plugin-annotation/guide/options.html#option-context" class="sidebar-link">Option Context</a></li></ul></li><li><a href="/chartjs-plugin-annotation/guide/interaction.html" class="sidebar-link">Interactions</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Annotations</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/chartjs-plugin-annotation/guide/types/box.html" class="sidebar-link">Box Annotations</a></li><li><a href="/chartjs-plugin-annotation/guide/types/ellipse.html" class="sidebar-link">Ellipse Annotations</a></li><li><a href="/chartjs-plugin-annotation/guide/types/line.html" class="sidebar-link">Line Annotations</a></li><li><a href="/chartjs-plugin-annotation/guide/types/point.html" class="sidebar-link">Point Annotations</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="options"><a href="#options" class="header-anchor">#</a> Options</h1> <h2 id="color"><a href="#color" class="header-anchor">#</a> Color</h2> <p>Any color supported by <a href="https://www.chartjs.org/docs/master/general/colors" target="_blank" rel="noopener noreferrer">chart.js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is supported by the annotation plugin.</p> <h2 id="font"><a href="#font" class="header-anchor">#</a> Font</h2> <p>Fonts use the same format as <a href="https://www.chartjs.org/docs/master/general/fonts" target="_blank" rel="noopener noreferrer">chart.js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h2 id="scriptable-options"><a href="#scriptable-options" class="header-anchor">#</a> Scriptable Options</h2> <p>As with most options in chart.js, the annotation plugin options are scriptable. This means that a function can be passed which returns the value as needed. In the example below, the annotation is hidden when the screen is less than 1000px wide.
The function receives 2 arguments, first is the <a href="#option-context">option context</a> representing contextual information. An options resolver is passed as second argumet, which can be used to access other option in the same context.</p> <div class="chart-editor" data-v-1a5ca0ee><div class="chart-view" data-v-1a5ca0ee><canvas></canvas></div> <div class="chart-actions" data-v-1765ceaa data-v-1a5ca0ee></div> <div class="code-editor" data-v-52b0d69e data-v-1a5ca0ee><div class="code-editor-header" data-v-52b0d69e><div class="code-editor-tabs" data-v-52b0d69e><button class="code-editor-tab active" data-v-52b0d69e>
        options
      </button><button class="code-editor-tab" data-v-52b0d69e>
        config
      </button></div> <div class="code-editor-tools" data-v-52b0d69e><!----> <a href="https://github.com/chartjs/chartjs-plugin-annotation/blob/master/samples/guide/options.md" title="View on GitHub" target="_blank" class="code-editor-tool fab fa-github fa-lg" data-v-52b0d69e></a></div></div> <div class="code-editor-views" data-v-52b0d69e><div class="editor-textarea ps" data-v-2edaba84 data-v-52b0d69e><div class="editor-textarea-content" data-v-2edaba84><div class="prism-editor-wrapper" data-v-2edaba84><div class="prism-editor__container"><textarea spellCheck="false" autocapitalize="off" autocomplete="off" autocorrect="off" data-gramm="false" placeholder="" data-testid="textarea" class="prism-editor__textarea">const options = {
  plugins: {
    autocolors: false,
    annotation: {
      annotations: {
        box1: {
          drawTime: 'afterDatasetsDraw',
          display: (context) =&gt; {
            const body = document.querySelector('body');
            const rect = body.getBoundingClientRect();
            return rect.width &gt;= 1000;
          },
          type: 'box',
          xMin: 1,
          xMax: 2,
          yMin: 50,
          yMax: 70,
          backgroundColor: 'rgba(255, 99, 132, 0.5)'
        }
      }
    }
  }
};
</textarea><pre data-testid="preview" class="prism-editor__editor"><span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">{</span>
    autocolors<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    annotation<span class="token operator">:</span> <span class="token punctuation">{</span>
      annotations<span class="token operator">:</span> <span class="token punctuation">{</span>
        box1<span class="token operator">:</span> <span class="token punctuation">{</span>
          drawTime<span class="token operator">:</span> <span class="token string">'afterDatasetsDraw'</span><span class="token punctuation">,</span>
          <span class="token function-variable function">display</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> body <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">const</span> rect <span class="token operator">=</span> body<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> rect<span class="token punctuation">.</span>width <span class="token operator">>=</span> <span class="token number">1000</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          type<span class="token operator">:</span> <span class="token string">'box'</span><span class="token punctuation">,</span>
          xMin<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
          xMax<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
          yMin<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
          yMax<span class="token operator">:</span> <span class="token number">70</span><span class="token punctuation">,</span>
          backgroundColor<span class="token operator">:</span> <span class="token string">'rgba(255, 99, 132, 0.5)'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<br /></pre></div></div></div></div><div class="editor-textarea ps" style="display:none;" data-v-2edaba84 data-v-52b0d69e><div class="editor-textarea-content" data-v-2edaba84><div class="prism-editor-wrapper" data-v-2edaba84><div class="prism-editor__container"><textarea spellCheck="false" autocapitalize="off" autocomplete="off" autocorrect="off" data-gramm="false" placeholder="" data-testid="textarea" class="prism-editor__textarea">const config = {
  type: 'line',
  data: {
    labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
    datasets: [{
      label: 'My First Dataset',
      data: [65, 59, 80, 81, 56, 55, 40],
      fill: false,
      borderColor: 'rgb(75, 192, 192)',
      tension: 0.1
    }]
  },
  options
};
</textarea><pre data-testid="preview" class="prism-editor__editor"><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    labels<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'January'</span><span class="token punctuation">,</span> <span class="token string">'February'</span><span class="token punctuation">,</span> <span class="token string">'March'</span><span class="token punctuation">,</span> <span class="token string">'April'</span><span class="token punctuation">,</span> <span class="token string">'May'</span><span class="token punctuation">,</span> <span class="token string">'June'</span><span class="token punctuation">,</span> <span class="token string">'July'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    datasets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
      label<span class="token operator">:</span> <span class="token string">'My First Dataset'</span><span class="token punctuation">,</span>
      data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">81</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      fill<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      borderColor<span class="token operator">:</span> <span class="token string">'rgb(75, 192, 192)'</span><span class="token punctuation">,</span>
      tension<span class="token operator">:</span> <span class="token number">0.1</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  options
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<br /></pre></div></div></div></div></div></div></div><h2 id="draw-time"><a href="#draw-time" class="header-anchor">#</a> Draw Time</h2> <p>The <code>drawTime</code> option for an annotation determines where in the chart lifecycle the drawing occurs. Four potential options are available:</p> <table><thead><tr><th>Option</th> <th>Notes</th></tr></thead> <tbody><tr><td><code>'beforeDraw'</code></td> <td>Occurs before any drawing takes place</td></tr> <tr><td><code>'beforeDatasetsDraw'</code></td> <td>Occurs after drawing of axes, but before datasets</td></tr> <tr><td><code>'afterDatasetsDraw'</code></td> <td>Occurs after drawing of datasets but before items such as the tooltip</td></tr> <tr><td><code>'afterDraw'</code></td> <td>After other drawing is completed.</td></tr></tbody></table> <h2 id="option-context"><a href="#option-context" class="header-anchor">#</a> Option Context</h2> <p>The option context is used to give contextual information when resolving options and only applies to scriptable options. The object is preserved, so it can be used to store and pass information between calls / options.</p> <p>There are 2 levels of option context objects:</p> <ul><li><code>chart</code> <ul><li><code>annotation</code></li></ul></li></ul> <p>The context object contains the following properties:</p> <h3 id="chart"><a href="#chart" class="header-anchor">#</a> chart</h3> <ul><li><code>chart</code>: the associated chart</li> <li><code>type</code>: <code>'chart'</code></li></ul> <p>The <a href="#chart">chart</a> option context is provided by Chart.js. It is passed to scriptable options when resolving annotation <code>id</code>, <code>type</code> and <code>drawTime</code> or adjusting scale ranges in <code>afterDataLimits</code> hook. The options resolved at that time are <code>scaleID</code>, <code>xScaleID</code>, <code>yScaleID</code>, <code>value</code>, <code>endValue</code>, <code>xMin</code>, <code>xMax</code>, <code>yMin</code>, <code>yMax</code>, <code>xValue</code> and <code>yValue</code>.</p> <h3 id="annotation"><a href="#annotation" class="header-anchor">#</a> annotation</h3> <p>In addition to <a href="#chart">chart</a></p> <ul><li><code>id</code>: the annotation id</li> <li><code>element</code>: the annotation element</li> <li><code>type</code>: <code>'annotation'</code></li></ul> <p>The <a href="#annotation">annotation</a> option context is passed to scriptable options in all other cases, except when resolving <code>id</code>, <code>type</code> or adjusting scale ranges. The same values resolved in <code>afterDataLimits</code> with <a href="#chart">chart</a> context are again evaluated in <code>afterUpdate</code> with <a href="#annotation">annotation</a> context.</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/23/2021, 8:07:16 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/chartjs-plugin-annotation/guide/usage.html" class="prev">
        Usage
      </a></span> <span class="next"><a href="/chartjs-plugin-annotation/guide/interaction.html">
        Interactions
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/chartjs-plugin-annotation/assets/js/app.60fb6859.js" defer></script><script src="/chartjs-plugin-annotation/assets/js/2.83801234.js" defer></script><script src="/chartjs-plugin-annotation/assets/js/11.b3eea665.js" defer></script>
  </body>
</html>
